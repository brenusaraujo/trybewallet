{"ast":null,"code":"import { SET_CURRENCIES } from '../actions/currencies.action';\nimport { ADD_EXPENSE, EDIT_EXPENSE, UPDATE_EXPENSE, DELETE_EXPENSE } from '../actions/expenses.action';\nimport { UPDATE_TOTAL_FIELD } from '../actions/totalField.action';\nconst INITIAL_STATE = {\n  currencies: [],\n  expenses: [],\n  editor: false,\n  idToEdit: 0,\n  totalField: 0\n};\nexport default function wallet() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_CURRENCIES:\n      return { ...state,\n        currencies: action.payload\n      };\n\n    case ADD_EXPENSE:\n      return { ...state,\n        expenses: [...state.expenses, {\n          id: state.expenses.length,\n          ...action.payload\n        }]\n      };\n\n    case EDIT_EXPENSE:\n      return { ...state,\n        editor: true,\n        idToEdit: action.payload\n      };\n\n    case UPDATE_EXPENSE:\n      return { ...state,\n        editor: false,\n        expenses: action.payload\n      };\n\n    case DELETE_EXPENSE:\n      return { ...state,\n        expenses: state.expenses.filter(_ref => {\n          let {\n            id\n          } = _ref;\n          return id !== action.payload.id;\n        }),\n        totalField: (Number(state.totalField) - action.payload.total).toFixed(2)\n      };\n\n    case UPDATE_TOTAL_FIELD:\n      return { ...state,\n        totalField: +state.expenses.reduce((acc, _ref2) => {\n          let {\n            exchangeRates,\n            currency,\n            value\n          } = _ref2;\n          const {\n            ask\n          } = exchangeRates[currency];\n          const expenseTotal = +value * +ask;\n          return acc + expenseTotal;\n        }, 0).toFixed(2)\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["SET_CURRENCIES","ADD_EXPENSE","EDIT_EXPENSE","UPDATE_EXPENSE","DELETE_EXPENSE","UPDATE_TOTAL_FIELD","INITIAL_STATE","currencies","expenses","editor","idToEdit","totalField","wallet","state","action","type","payload","id","length","filter","Number","total","toFixed","reduce","acc","exchangeRates","currency","value","ask","expenseTotal"],"sources":["/Users/brenoaraujo/projects-to-github/TrybeWallet/src/redux/reducers/wallet.js"],"sourcesContent":["import { SET_CURRENCIES } from '../actions/currencies.action';\nimport {\n  ADD_EXPENSE,\n  EDIT_EXPENSE,\n  UPDATE_EXPENSE,\n  DELETE_EXPENSE,\n} from '../actions/expenses.action';\nimport { UPDATE_TOTAL_FIELD } from '../actions/totalField.action';\n\nconst INITIAL_STATE = {\n  currencies: [],\n  expenses: [],\n  editor: false,\n  idToEdit: 0,\n  totalField: 0,\n};\n\nexport default function wallet(state = INITIAL_STATE, action) {\n  switch (action.type) {\n  case SET_CURRENCIES:\n    return { ...state, currencies: action.payload };\n  case ADD_EXPENSE:\n    return {\n      ...state,\n      expenses: [\n        ...state.expenses,\n        { id: state.expenses.length, ...action.payload },\n      ],\n    };\n  case EDIT_EXPENSE:\n    return { ...state, editor: true, idToEdit: action.payload };\n  case UPDATE_EXPENSE:\n    return { ...state, editor: false, expenses: action.payload };\n  case DELETE_EXPENSE:\n    return {\n      ...state,\n      expenses: state.expenses.filter(({ id }) => id !== action.payload.id),\n      totalField: (Number(state.totalField) - action.payload.total).toFixed(2),\n    };\n  case UPDATE_TOTAL_FIELD:\n    return {\n      ...state,\n      totalField: +(state.expenses.reduce((acc, { exchangeRates, currency, value }) => {\n        const { ask } = exchangeRates[currency];\n        const expenseTotal = +value * +ask;\n        return acc + expenseTotal;\n      }, 0)).toFixed(2),\n    };\n  default:\n    return state;\n  }\n}\n"],"mappings":"AAAA,SAASA,cAAT,QAA+B,8BAA/B;AACA,SACEC,WADF,EAEEC,YAFF,EAGEC,cAHF,EAIEC,cAJF,QAKO,4BALP;AAMA,SAASC,kBAAT,QAAmC,8BAAnC;AAEA,MAAMC,aAAa,GAAG;EACpBC,UAAU,EAAE,EADQ;EAEpBC,QAAQ,EAAE,EAFU;EAGpBC,MAAM,EAAE,KAHY;EAIpBC,QAAQ,EAAE,CAJU;EAKpBC,UAAU,EAAE;AALQ,CAAtB;AAQA,eAAe,SAASC,MAAT,GAA+C;EAAA,IAA/BC,KAA+B,uEAAvBP,aAAuB;EAAA,IAARQ,MAAQ;;EAC5D,QAAQA,MAAM,CAACC,IAAf;IACA,KAAKf,cAAL;MACE,OAAO,EAAE,GAAGa,KAAL;QAAYN,UAAU,EAAEO,MAAM,CAACE;MAA/B,CAAP;;IACF,KAAKf,WAAL;MACE,OAAO,EACL,GAAGY,KADE;QAELL,QAAQ,EAAE,CACR,GAAGK,KAAK,CAACL,QADD,EAER;UAAES,EAAE,EAAEJ,KAAK,CAACL,QAAN,CAAeU,MAArB;UAA6B,GAAGJ,MAAM,CAACE;QAAvC,CAFQ;MAFL,CAAP;;IAOF,KAAKd,YAAL;MACE,OAAO,EAAE,GAAGW,KAAL;QAAYJ,MAAM,EAAE,IAApB;QAA0BC,QAAQ,EAAEI,MAAM,CAACE;MAA3C,CAAP;;IACF,KAAKb,cAAL;MACE,OAAO,EAAE,GAAGU,KAAL;QAAYJ,MAAM,EAAE,KAApB;QAA2BD,QAAQ,EAAEM,MAAM,CAACE;MAA5C,CAAP;;IACF,KAAKZ,cAAL;MACE,OAAO,EACL,GAAGS,KADE;QAELL,QAAQ,EAAEK,KAAK,CAACL,QAAN,CAAeW,MAAf,CAAsB;UAAA,IAAC;YAAEF;UAAF,CAAD;UAAA,OAAYA,EAAE,KAAKH,MAAM,CAACE,OAAP,CAAeC,EAAlC;QAAA,CAAtB,CAFL;QAGLN,UAAU,EAAE,CAACS,MAAM,CAACP,KAAK,CAACF,UAAP,CAAN,GAA2BG,MAAM,CAACE,OAAP,CAAeK,KAA3C,EAAkDC,OAAlD,CAA0D,CAA1D;MAHP,CAAP;;IAKF,KAAKjB,kBAAL;MACE,OAAO,EACL,GAAGQ,KADE;QAELF,UAAU,EAAE,CAAEE,KAAK,CAACL,QAAN,CAAee,MAAf,CAAsB,CAACC,GAAD,YAA6C;UAAA,IAAvC;YAAEC,aAAF;YAAiBC,QAAjB;YAA2BC;UAA3B,CAAuC;UAC/E,MAAM;YAAEC;UAAF,IAAUH,aAAa,CAACC,QAAD,CAA7B;UACA,MAAMG,YAAY,GAAG,CAACF,KAAD,GAAS,CAACC,GAA/B;UACA,OAAOJ,GAAG,GAAGK,YAAb;QACD,CAJa,EAIX,CAJW,CAAD,CAINP,OAJM,CAIE,CAJF;MAFR,CAAP;;IAQF;MACE,OAAOT,KAAP;EA/BF;AAiCD"},"metadata":{},"sourceType":"module"}